(function(c,l,m){function g(){return parseInt(d.scrollTop()+d.height())===parseInt(n.height())?!0:!1}function h(a){return null===a?0:"string"===typeof a&&0<c(a).length?c(a).outerHeight():console.log("Section Scroller Error: Wrong fixedNavbar option provided!")}var d=c(l),n=c(m),k={scrollerButton:"#section-scroller-button",scrollerButtonRotateClass:"rotate",scrollType:"swing",scrollDuration:1E3,offset:0,fixedNavbar:null,onScrollStart:function(){},onScrollEnd:function(){}},f=function(a,b){this.elements=
a;this.options=c.extend({},k,b);this.scrollerButton=c(this.options.scrollerButton);this.scrollerButtonRotateClass=this.options.scrollerButtonRotateClass;this.scrollDuration=this.options.scrollDuration;this.scrollType=this.options.scrollType;this.offset=this.options.offset;this.fixedNavbar=this.options.fixedNavbar;this.scrollToElementIndex=0;this.elementOffsetTops=[];this.dataScrollOffsets=[];this._defaults=k;this.init()};f.prototype={constructor:f,init:function(){var a=this;this.calculateElementOffets(this);
d.resize(function(){a.calculateElementOffets(a)});this.scrollerButton.on("click",function(b){a.scrollToNextElement(a);b.preventDefault()});this.scrollerButtonRotateClassHandler(this);d.scroll(function(){a.scrollerButtonRotateClassHandler(a)})},calculateElementOffets:function(a){a.elementOffsetTops=[];a.dataScrollOffsets=[];a.elements.each(function(){a.elementOffsetTops.push(c(this).offset().top);a.dataScrollOffsets.push(Number(c(this).data("scroll-offset"))?Number(c(this).data("scroll-offset")):0)})},
scrollToNextElement:function(a){for(var b=0,e=a.offset+h(a.fixedNavbar);parseInt(d.scrollTop()+2)>=parseInt(a.elementOffsetTops[b]-e)&&b<a.elementOffsetTops.length;)b++;if(b>=a.elementOffsetTops.length||g())b=0;a.scrollToElementIndex=b;a.options.onScrollStart.call(a);c("html, body").stop().animate({scrollTop:parseInt(a.elementOffsetTops[b]-e)+parseInt(a.dataScrollOffsets[b])},a.scrollDuration,a.scrollType).promise().done(function(){a.options.onScrollEnd.call(a)})},scrollerButtonRotateClassHandler:function(a){var b=
a.offset+h(a.fixedNavbar),e=parseInt(c(a.elements[a.elements.length-1]).outerHeight()/3);g()?(b=a.scrollerButton,a=a.scrollerButtonRotateClass,b.hasClass(a)||b.addClass(a)):parseInt(d.scrollTop())>=parseInt(a.elementOffsetTops[a.elementOffsetTops.length-1]-b-e)?(b=a.scrollerButton,a=a.scrollerButtonRotateClass,b.hasClass(a)||b.addClass(a)):(b=a.scrollerButton,a=a.scrollerButtonRotateClass,b.hasClass(a)&&b.removeClass(a))}};c.fn.sectionScroller=function(a){c.data(this,"plugin_sectionScroller")||c.data(this,
"plugin_sectionScroller",new f(this,a));return this}})(jQuery,window,document);